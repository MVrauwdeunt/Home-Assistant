2021-10-27 10:15:07 WARNING (SyncWorker_1) [homeassistant.loader] We found a custom integration fullykiosk which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-27 10:15:07 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration browser_mod which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-27 10:15:07 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration knmi which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-27 10:15:07 WARNING (SyncWorker_1) [homeassistant.loader] We found a custom integration hacs which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-27 10:15:07 WARNING (SyncWorker_3) [homeassistant.loader] We found a custom integration ovapi which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-27 10:15:07 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration readme which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-27 10:15:07 WARNING (SyncWorker_1) [homeassistant.loader] We found a custom integration grocy which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-27 10:15:07 WARNING (SyncWorker_3) [homeassistant.loader] We found a custom integration adaptive_lighting which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-27 10:15:07 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration breaking_changes which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-27 10:15:07 WARNING (SyncWorker_6) [homeassistant.loader] We found a custom integration buienalarm which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-27 10:15:07 WARNING (SyncWorker_4) [homeassistant.loader] We found a custom integration climate_group which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-27 10:15:07 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration neerslag which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-27 10:15:07 WARNING (SyncWorker_5) [homeassistant.loader] We found a custom integration monitor_docker which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-27 10:15:09 ERROR (MainThread) [homeassistant.components.weather] The buienradar platform for the weather integration does not support platform setup. Please remove it from your config.
2021-10-27 10:15:10 WARNING (MainThread) [homeassistant.components.ssdp] Failed to setup listener for 0.0.0.0: [Errno 98] Address in use
2021-10-27 10:15:12 ERROR (MainThread) [homeassistant.components.binary_sensor] grocy: Error on device update!
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 431, in _async_add_entity
    await entity.async_device_update(warning=False)
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 618, in async_device_update
    await task
  File "/config/custom_components/grocy/entity.py", line 57, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 141, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 78, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 165, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:15:18 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:15:18 WARNING (SyncWorker_13) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:15:22 ERROR (MainThread) [homeassistant.components.sensor] grocy: Error on device update!
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 431, in _async_add_entity
    await entity.async_device_update(warning=False)
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 618, in async_device_update
    await task
  File "/config/custom_components/grocy/entity.py", line 57, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 141, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 78, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 165, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'float' got invalid input 'unknown' when rendering template '{{ states('sensor.curtains_front')|float > 0 }}' but no default was specified. Currently 'float' will return '0', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'float' got invalid input 'unknown' when rendering template '{{ states('sensor.curtains_front')|float > 0 }}' but no default was specified. Currently 'float' will return '0', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:15:28 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}")
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 397, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1604, in _render_with_context
    return template.render(**kwargs)
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 925, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/local/lib/python3.9/site-packages/jinja2/sandbox.py", line 326, in getattr
    value = getattr(obj, attribute)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1630, in _fail_with_undefined_error
    raise ex
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1621, in _fail_with_undefined_error
    return super()._fail_with_undefined_error(*args, **kwargs)
jinja2.exceptions.UndefinedError: list object has no element 5

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 513, in async_render_to_info
    render_info._result = self.async_render(variables, strict=strict, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 399, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: UndefinedError: list object has no element 5
2021-10-27 10:15:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:15:28 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}")
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 397, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1604, in _render_with_context
    return template.render(**kwargs)
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 925, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/local/lib/python3.9/site-packages/jinja2/sandbox.py", line 326, in getattr
    value = getattr(obj, attribute)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1630, in _fail_with_undefined_error
    raise ex
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1621, in _fail_with_undefined_error
    return super()._fail_with_undefined_error(*args, **kwargs)
jinja2.exceptions.UndefinedError: list object has no element 6

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 513, in async_render_to_info
    render_info._result = self.async_render(variables, strict=strict, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 399, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: UndefinedError: list object has no element 6
2021-10-27 10:15:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:15:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:15:28 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: list object has no element 5') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}")' for attribute 'step_5' in entity 'sensor.cooking'
2021-10-27 10:15:28 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: list object has no element 6') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}")' for attribute 'step_6' in entity 'sensor.cooking'
2021-10-27 10:15:28 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template("{%- for i in state_attr('sensor.grocy_stock', 'products') %} {%- if i.id == 93 %} {{ i.available_amount | round }} {%- endif %} {%- endfor %}")
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 397, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1604, in _render_with_context
    return template.render(**kwargs)
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 925, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
TypeError: 'NoneType' object is not iterable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 513, in async_render_to_info
    render_info._result = self.async_render(variables, strict=strict, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 399, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: TypeError: 'NoneType' object is not iterable
2021-10-27 10:15:28 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('TypeError: 'NoneType' object is not iterable') while processing template 'Template("{%- for i in state_attr('sensor.grocy_stock', 'products') %} {%- if i.id == 93 %} {{ i.available_amount | round }} {%- endif %} {%- endfor %}")' for attribute '_attr_native_value' in entity 'sensor.kattenvoer'
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:28 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:15:40 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:15:54 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:16:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:16:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:16:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:16:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:16:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:16:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:16:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:16:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:16:10 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:16:18 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:16:18 WARNING (SyncWorker_0) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:16:27 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:16:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:16:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:16:40 ERROR (SyncWorker_11) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:16:59 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:17:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:17:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:17:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:17:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:17:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:17:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:17:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:17:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:17:10 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:17:18 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:17:18 WARNING (SyncWorker_10) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:17:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:17:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:17:31 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:17:40 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:17:58 ERROR (Thread-3) [custom_components.monitor_docker.helpers] zigbee2mqtt: Cannot determine CPU usage for container ('system_cpu_usage')
2021-10-27 10:17:58 ERROR (Thread-3) [custom_components.monitor_docker.helpers] Raw 'cpu_stats' {'cpu_usage': {'total_usage': 0, 'usage_in_kernelmode': 0, 'usage_in_usermode': 0}, 'throttling_data': {'periods': 0, 'throttled_periods': 0, 'throttled_time': 0}}
2021-10-27 10:17:58 ERROR (Thread-3) [custom_components.monitor_docker.helpers] zigbee2mqtt: Cannot determine memory usage for container ('stats')
2021-10-27 10:17:58 ERROR (Thread-3) [custom_components.monitor_docker.helpers] zigbee2mqtt: Raw 'memory_stats' {}
2021-10-27 10:18:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:18:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:18:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:18:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:18:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:18:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:18:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:18:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:18:03 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:18:10 ERROR (SyncWorker_3) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:18:18 ERROR (SyncWorker_3) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:18:18 WARNING (SyncWorker_3) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:18:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:18:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:18:35 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:18:40 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:18:41 WARNING (MainThread) [homeassistant.helpers.service] Unable to find referenced entities light.hal
2021-10-27 10:18:41 WARNING (MainThread) [homeassistant.helpers.service] Unable to find referenced entities light.muur_1, light.muur_2, light.spot, light.tafel_1, light.tafel_2
2021-10-27 10:19:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:19:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:19:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:19:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:19:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:19:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:19:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:19:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:19:03 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0x2AD7:1:0x0008]: async_initialize: all attempts have failed: [DeliveryError('[0x2ad7:1:0x0008]: Message send failure'), DeliveryError('[0x2ad7:1:0x0008]: Message send failure'), DeliveryError('[0x2ad7:1:0x0008]: Message send failure'), DeliveryError('[0x2ad7:1:0x0008]: Message send failure')]
2021-10-27 10:19:03 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0x2AD7:1:0x0300]: async_initialize: all attempts have failed: [DeliveryError('[0x2ad7:1:0x0300]: Message send failure'), DeliveryError('[0x2ad7:1:0x0300]: Message send failure'), DeliveryError('[0x2ad7:1:0x0300]: Message send failure'), DeliveryError('[0x2ad7:1:0x0300]: Message send failure')]
2021-10-27 10:19:04 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xAF47:1:0x0008]: async_initialize: all attempts have failed: [DeliveryError('[0xaf47:1:0x0008]: Message send failure'), DeliveryError('[0xaf47:1:0x0008]: Message send failure'), DeliveryError('[0xaf47:1:0x0008]: Message send failure'), DeliveryError('[0xaf47:1:0x0008]: Message send failure')]
2021-10-27 10:19:04 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xAF47:1:0x0300]: async_initialize: all attempts have failed: [DeliveryError('[0xaf47:1:0x0300]: Message send failure'), DeliveryError('[0xaf47:1:0x0300]: Message send failure'), DeliveryError('[0xaf47:1:0x0300]: Message send failure'), DeliveryError('[0xaf47:1:0x0300]: Message send failure')]
2021-10-27 10:19:07 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:19:10 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:19:18 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:19:18 WARNING (SyncWorker_12) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:19:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:19:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:19:39 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:19:40 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:19:43 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0x2AD7:1:0x0006]: async_initialize: all attempts have failed: [DeliveryError('[0x2ad7:1:0x0006]: Message send failure'), DeliveryError('[0x2ad7:1:0x0006]: Message send failure'), DeliveryError('[0x2ad7:1:0x0006]: Message send failure'), DeliveryError('[0x2ad7:1:0x0006]: Message send failure')]
2021-10-27 10:19:44 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xAF47:1:0x0006]: async_initialize: all attempts have failed: [DeliveryError('[0xaf47:1:0x0006]: Message send failure'), DeliveryError('[0xaf47:1:0x0006]: Message send failure'), DeliveryError('[0xaf47:1:0x0006]: Message send failure'), DeliveryError('[0xaf47:1:0x0006]: Message send failure')]
2021-10-27 10:19:48 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xE527:11:0x0008]: async_initialize: all attempts have failed: [DeliveryError('[0xe527:11:0x0008]: Message send failure'), DeliveryError('[0xe527:11:0x0008]: Message send failure'), DeliveryError('[0xe527:11:0x0008]: Message send failure'), DeliveryError('[0xe527:11:0x0008]: Message send failure')]
2021-10-27 10:19:48 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xE527:11:0x0300]: async_initialize: all attempts have failed: [DeliveryError('[0xe527:11:0x0300]: Message send failure'), DeliveryError('[0xe527:11:0x0300]: Message send failure'), DeliveryError('[0xe527:11:0x0300]: Message send failure'), DeliveryError('[0xe527:11:0x0300]: Message send failure')]
2021-10-27 10:19:50 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0x09A0:11:0x0300]: async_initialize: all attempts have failed: [DeliveryError('[0x09a0:11:0x0300]: Message send failure'), DeliveryError('[0x09a0:11:0x0300]: Message send failure'), DeliveryError('[0x09a0:11:0x0300]: Message send failure'), DeliveryError('[0x09a0:11:0x0300]: Message send failure')]
2021-10-27 10:19:50 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0x09A0:11:0x0008]: async_initialize: all attempts have failed: [DeliveryError('[0x09a0:11:0x0008]: Message send failure'), DeliveryError('[0x09a0:11:0x0008]: Message send failure'), DeliveryError('[0x09a0:11:0x0008]: Message send failure'), DeliveryError('[0x09a0:11:0x0008]: Message send failure')]
2021-10-27 10:20:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:20:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:20:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:20:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:20:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:20:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:20:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:20:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:20:10 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:20:11 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:20:18 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:20:18 WARNING (SyncWorker_0) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:20:19 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0x09A0:11:0x0006]: async_initialize: all attempts have failed: [DeliveryError('[0x09a0:11:0x0006]: Message send failure'), DeliveryError('[0x09a0:11:0x0006]: Message send failure'), DeliveryError('[0x09a0:11:0x0006]: Message send failure'), DeliveryError('[0x09a0:11:0x0006]: Message send failure')]
2021-10-27 10:20:24 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xA3A8:11:0x0008]: async_initialize: all attempts have failed: [DeliveryError('[0xa3a8:11:0x0008]: Message send failure'), DeliveryError('[0xa3a8:11:0x0008]: Message send failure'), DeliveryError('[0xa3a8:11:0x0008]: Message send failure'), DeliveryError('[0xa3a8:11:0x0008]: Message send failure')]
2021-10-27 10:20:24 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xA3A8:11:0x0300]: async_initialize: all attempts have failed: [DeliveryError('[0xa3a8:11:0x0300]: Message send failure'), DeliveryError('[0xa3a8:11:0x0300]: Message send failure'), DeliveryError('[0xa3a8:11:0x0300]: Message send failure'), DeliveryError('[0xa3a8:11:0x0300]: Message send failure')]
2021-10-27 10:20:24 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xA3A8:11:0x0006]: async_initialize: all attempts have failed: [DeliveryError('[0xa3a8:11:0x0006]: Message send failure'), DeliveryError('[0xa3a8:11:0x0006]: Message send failure'), DeliveryError('[0xa3a8:11:0x0006]: Message send failure'), DeliveryError('[0xa3a8:11:0x0006]: Message send failure')]
2021-10-27 10:20:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:20:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:20:28 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xE527:11:0x0006]: async_initialize: all attempts have failed: [DeliveryError('[0xe527:11:0x0006]: Message send failure'), DeliveryError('[0xe527:11:0x0006]: Message send failure'), DeliveryError('[0xe527:11:0x0006]: Message send failure'), DeliveryError('[0xe527:11:0x0006]: Message send failure')]
2021-10-27 10:20:30 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xABB3:11:0x0008]: async_initialize: all attempts have failed: [DeliveryError('[0xabb3:11:0x0008]: Message send failure'), DeliveryError('[0xabb3:11:0x0008]: Message send failure'), DeliveryError('[0xabb3:11:0x0008]: Message send failure'), DeliveryError('[0xabb3:11:0x0008]: Message send failure')]
2021-10-27 10:20:33 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xE27B:1:0x0b04]: async_initialize: all attempts have failed: [DeliveryError('[0xe27b:1:0x0b04]: Message send failure'), DeliveryError('[0xe27b:1:0x0b04]: Message send failure'), DeliveryError('[0xe27b:1:0x0b04]: Message send failure'), DeliveryError('[0xe27b:1:0x0b04]: Message send failure')]
2021-10-27 10:20:33 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xE27B:1:0x0702]: async_initialize: all attempts have failed: [DeliveryError('[0xe27b:1:0x0702]: Message send failure'), DeliveryError('[0xe27b:1:0x0702]: Message send failure'), DeliveryError('[0xe27b:1:0x0702]: Message send failure'), DeliveryError('[0xe27b:1:0x0702]: Message send failure')]
2021-10-27 10:20:39 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xABB3:11:0x0006]: async_initialize: all attempts have failed: [DeliveryError('[0xabb3:11:0x0006]: Message send failure'), DeliveryError('[0xabb3:11:0x0006]: Message send failure'), DeliveryError('[0xabb3:11:0x0006]: Message send failure'), DeliveryError('[0xabb3:11:0x0006]: Message send failure')]
2021-10-27 10:20:40 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:20:43 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:21:06 WARNING (MainThread) [zigpy.zcl] Unknown cluster 61184
2021-10-27 10:21:10 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:21:13 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xE27B:1:0x0006]: async_initialize: all attempts have failed: [DeliveryError('[0xe27b:1:0x0006]: Message send failure'), DeliveryError('[0xe27b:1:0x0006]: Message send failure'), DeliveryError('[0xe27b:1:0x0006]: Message send failure'), DeliveryError('[0xe27b:1:0x0006]: Message send failure')]
2021-10-27 10:21:15 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:21:18 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:21:18 WARNING (SyncWorker_0) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:21:24 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0x44A7:3:0x0006]: async_initialize: all attempts have failed: [DeliveryError('[0x44a7:3:0x0006]: Message send failure'), DeliveryError('[0x44a7:3:0x0006]: Message send failure'), DeliveryError('[0x44a7:3:0x0006]: Message send failure'), DeliveryError('[0x44a7:3:0x0006]: Message send failure')]
2021-10-27 10:21:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:21:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:21:35 WARNING (MainThread) [zigpy.zcl] [0x6d8f:1:0xef00] Unknown cluster-specific command 17
2021-10-27 10:21:36 WARNING (MainThread) [zigpy.zcl] [0x6d8f:1:0xef00] Unknown cluster-specific command 17
2021-10-27 10:21:40 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:21:47 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:21:59 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0x980A:1:0x0006]: async_initialize: all attempts have failed: [DeliveryError('[0x980a:1:0x0006]: Message send failure'), DeliveryError('[0x980a:1:0x0006]: Message send failure'), DeliveryError('[0x980a:1:0x0006]: Message send failure'), DeliveryError('[0x980a:1:0x0006]: Message send failure')]
2021-10-27 10:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:22:10 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:22:19 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:22:19 WARNING (SyncWorker_13) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:22:19 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:22:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:22:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:22:40 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:22:51 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:23:10 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:23:18 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:23:18 WARNING (SyncWorker_4) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:23:24 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:23:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:23:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:23:40 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:23:56 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:24:10 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:24:18 ERROR (SyncWorker_8) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:24:18 WARNING (SyncWorker_8) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:24:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:24:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:24:28 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:24:40 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:24:41 WARNING (MainThread) [homeassistant.helpers.service] Unable to find referenced entities light.hal
2021-10-27 10:24:41 WARNING (MainThread) [homeassistant.helpers.service] Unable to find referenced entities light.muur_1, light.muur_2, light.spot, light.tafel_1, light.tafel_2
2021-10-27 10:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:25:00 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:25:10 ERROR (SyncWorker_11) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:25:18 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:25:18 WARNING (SyncWorker_4) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:25:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:25:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:25:32 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:25:40 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:26:04 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:26:10 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:26:18 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:26:18 WARNING (SyncWorker_7) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:26:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:26:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:26:36 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:26:40 ERROR (SyncWorker_8) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:27:08 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:27:10 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:27:18 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:27:18 WARNING (SyncWorker_6) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:27:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:27:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:27:40 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:27:40 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:28:10 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:28:12 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:28:18 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:28:18 WARNING (SyncWorker_10) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:28:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:28:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:28:40 ERROR (SyncWorker_3) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:28:44 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:29:10 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:29:16 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:29:18 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:29:18 WARNING (SyncWorker_0) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:29:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:29:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:29:40 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:29:48 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:30:10 ERROR (SyncWorker_11) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:30:18 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:30:18 WARNING (SyncWorker_6) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:30:21 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:30:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:30:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:30:40 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:30:53 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:31:10 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:31:18 ERROR (SyncWorker_3) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:31:18 WARNING (SyncWorker_3) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:31:26 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:31:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:31:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:31:40 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:31:58 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:32:10 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:32:18 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:32:18 WARNING (SyncWorker_4) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:32:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:32:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:32:30 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:32:40 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:33:02 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:33:10 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:33:18 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:33:18 WARNING (SyncWorker_13) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:33:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:33:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:33:34 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:33:40 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:34:06 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:34:10 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:34:18 ERROR (SyncWorker_11) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:34:18 WARNING (SyncWorker_11) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:34:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:34:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:34:38 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:34:40 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:35:10 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:35:10 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:35:18 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:35:18 WARNING (SyncWorker_5) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:35:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:35:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:35:40 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:35:42 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:36:10 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:36:14 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:36:18 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:36:18 WARNING (SyncWorker_4) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:36:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:36:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:36:40 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:36:46 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:37:10 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:37:18 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:37:18 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:37:18 WARNING (SyncWorker_5) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:37:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:37:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:37:40 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:37:50 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:38:10 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:38:18 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:38:18 WARNING (SyncWorker_10) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:38:23 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:38:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:38:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:38:40 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:38:55 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:39:10 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:39:19 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:39:19 WARNING (SyncWorker_0) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:39:28 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:39:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:39:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:39:40 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:40:00 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:40:10 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:40:18 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:40:18 WARNING (SyncWorker_4) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:40:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:40:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:40:32 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:40:40 ERROR (SyncWorker_11) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:41:04 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:41:10 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:41:18 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:41:18 WARNING (SyncWorker_12) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:41:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:41:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:41:36 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:41:40 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:42:08 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:42:10 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:42:18 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:42:18 WARNING (SyncWorker_13) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:42:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:42:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:42:40 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:42:40 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:43:10 ERROR (SyncWorker_8) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:43:12 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:43:18 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:43:18 WARNING (SyncWorker_13) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:43:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:43:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:43:40 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:43:44 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:44:10 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:44:16 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:44:18 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:44:18 WARNING (SyncWorker_7) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:44:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:44:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:44:40 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:44:48 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:45:10 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:45:18 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:45:18 WARNING (SyncWorker_12) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:45:21 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:45:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:45:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:45:40 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:45:53 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:46:10 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:46:18 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:46:18 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:46:26 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:46:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:46:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:46:40 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:46:58 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:47:10 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:47:19 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:47:19 WARNING (SyncWorker_1) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:47:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:47:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:47:30 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:47:40 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:48:02 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:48:10 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:48:19 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-27 10:48:19 WARNING (SyncWorker_9) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-27 10:48:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:48:28 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-27 10:48:34 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:48:40 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-27 10:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-27 10:49:06 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-27 10:49:10 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
