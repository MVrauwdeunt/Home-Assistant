2021-10-20 21:20:21 WARNING (SyncWorker_1) [homeassistant.loader] We found a custom integration fullykiosk which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-20 21:20:21 WARNING (SyncWorker_1) [homeassistant.loader] We found a custom integration ovapi which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-20 21:20:21 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration hacs which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-20 21:20:21 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration browser_mod which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-20 21:20:21 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration climate_group which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-20 21:20:21 WARNING (SyncWorker_3) [homeassistant.loader] We found a custom integration knmi which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-20 21:20:21 WARNING (SyncWorker_4) [homeassistant.loader] We found a custom integration readme which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-20 21:20:21 WARNING (SyncWorker_5) [homeassistant.loader] We found a custom integration grocy which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-20 21:20:21 WARNING (SyncWorker_6) [homeassistant.loader] We found a custom integration monitor_docker which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-20 21:20:21 WARNING (SyncWorker_1) [homeassistant.loader] We found a custom integration neerslag which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-20 21:20:21 WARNING (SyncWorker_2) [homeassistant.loader] We found a custom integration buienalarm which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-20 21:20:21 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration breaking_changes which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-20 21:20:21 WARNING (SyncWorker_7) [homeassistant.loader] We found a custom integration adaptive_lighting which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2021-10-20 21:20:23 ERROR (MainThread) [homeassistant.components.weather] The buienradar platform for the weather integration does not support platform setup. Please remove it from your config.
2021-10-20 21:20:24 WARNING (MainThread) [homeassistant.components.ssdp] Failed to setup listener for 0.0.0.0: [Errno 98] Address in use
2021-10-20 21:20:24 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:20:24 WARNING (MainThread) [homeassistant.config_entries] Config entry 'Asgard' for unifi integration not ready yet; Retrying in background
2021-10-20 21:20:24 WARNING (MainThread) [zigpy.zcl] Unknown cluster 61184
2021-10-20 21:20:24 WARNING (MainThread) [zigpy.zcl] Unknown cluster 61184
2021-10-20 21:20:25 ERROR (SyncWorker_7) [homeassistant.components.octoprint] Failed to connect to Octoprint server. Error: HTTPConnectionPool(host='192.168.178.54', port=80): Max retries exceeded with url: /api/printer (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fa5fa8452e0>: Failed to establish a new connection: [Errno 113] Host is unreachable'))
2021-10-20 21:20:26 ERROR (MainThread) [homeassistant.components.binary_sensor] grocy: Error on device update!
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 431, in _async_add_entity
    await entity.async_device_update(warning=False)
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 618, in async_device_update
    await task
  File "/config/custom_components/grocy/entity.py", line 57, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 141, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 78, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 165, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:20:26 WARNING (MainThread) [homeassistant.config_entries] Config entry 'Controller (192.168.178.106)' for heos integration not ready yet: [Errno 113] Connect call failed ('192.168.178.106', 1255); Retrying in background
2021-10-20 21:20:28 WARNING (MainThread) [homeassistant.config_entries] Config entry 'Ambilight' for hyperion integration not ready yet: None; Retrying in background
2021-10-20 21:20:30 WARNING (MainThread) [homeassistant.config_entries] Config entry 'Denon AVR-X1600H' for denonavr integration not ready yet: NetworkError: All connection attempts failed; Retrying in background
2021-10-20 21:20:31 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xE27B:1:0x0702]: async_initialize: all attempts have failed: [DeliveryError('[0xe27b:1:0x0702]: Message send failure'), DeliveryError('[0xe27b:1:0x0702]: Message send failure'), DeliveryError('[0xe27b:1:0x0702]: Message send failure'), DeliveryError('[0xe27b:1:0x0702]: Message send failure')]
2021-10-20 21:20:32 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:20:32 WARNING (SyncWorker_9) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:20:32 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xE27B:1:0x0b04]: async_initialize: all attempts have failed: [DeliveryError('[0xe27b:1:0x0b04]: Message send failure'), DeliveryError('[0xe27b:1:0x0b04]: Message send failure'), DeliveryError('[0xe27b:1:0x0b04]: Message send failure'), DeliveryError('[0xe27b:1:0x0b04]: Message send failure')]
2021-10-20 21:20:36 ERROR (MainThread) [homeassistant.components.sensor] grocy: Error on device update!
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 431, in _async_add_entity
    await entity.async_device_update(warning=False)
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 618, in async_device_update
    await task
  File "/config/custom_components/grocy/entity.py", line 57, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 141, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 78, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 165, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:20:42 WARNING (MainThread) [homeassistant.components.sensor] Setup of sensor platform octoprint is taking over 10 seconds.
2021-10-20 21:20:54 ERROR (SyncWorker_11) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'float' got invalid input 'unknown' when rendering template '{{ states('sensor.curtains_front')|float > 0 }}' but no default was specified. Currently 'float' will return '0', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'float' got invalid input 'unknown' when rendering template '{{ states('sensor.curtains_front')|float > 0 }}' but no default was specified. Currently 'float' will return '0', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}")
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 397, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1604, in _render_with_context
    return template.render(**kwargs)
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 925, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/local/lib/python3.9/site-packages/jinja2/sandbox.py", line 326, in getattr
    value = getattr(obj, attribute)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1630, in _fail_with_undefined_error
    raise ex
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1621, in _fail_with_undefined_error
    return super()._fail_with_undefined_error(*args, **kwargs)
jinja2.exceptions.UndefinedError: list object has no element 1

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 513, in async_render_to_info
    render_info._result = self.async_render(variables, strict=strict, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 399, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: UndefinedError: list object has no element 1
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}")
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 397, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1604, in _render_with_context
    return template.render(**kwargs)
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 925, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/local/lib/python3.9/site-packages/jinja2/sandbox.py", line 326, in getattr
    value = getattr(obj, attribute)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1630, in _fail_with_undefined_error
    raise ex
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1621, in _fail_with_undefined_error
    return super()._fail_with_undefined_error(*args, **kwargs)
jinja2.exceptions.UndefinedError: list object has no element 2

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 513, in async_render_to_info
    render_info._result = self.async_render(variables, strict=strict, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 399, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: UndefinedError: list object has no element 2
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}")
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 397, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1604, in _render_with_context
    return template.render(**kwargs)
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 925, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/local/lib/python3.9/site-packages/jinja2/sandbox.py", line 326, in getattr
    value = getattr(obj, attribute)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1630, in _fail_with_undefined_error
    raise ex
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1621, in _fail_with_undefined_error
    return super()._fail_with_undefined_error(*args, **kwargs)
jinja2.exceptions.UndefinedError: list object has no element 3

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 513, in async_render_to_info
    render_info._result = self.async_render(variables, strict=strict, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 399, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: UndefinedError: list object has no element 3
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}")
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 397, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1604, in _render_with_context
    return template.render(**kwargs)
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 925, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/local/lib/python3.9/site-packages/jinja2/sandbox.py", line 326, in getattr
    value = getattr(obj, attribute)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1630, in _fail_with_undefined_error
    raise ex
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1621, in _fail_with_undefined_error
    return super()._fail_with_undefined_error(*args, **kwargs)
jinja2.exceptions.UndefinedError: list object has no element 4

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 513, in async_render_to_info
    render_info._result = self.async_render(variables, strict=strict, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 399, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: UndefinedError: list object has no element 4
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}")
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 397, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1604, in _render_with_context
    return template.render(**kwargs)
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 925, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/local/lib/python3.9/site-packages/jinja2/sandbox.py", line 326, in getattr
    value = getattr(obj, attribute)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1630, in _fail_with_undefined_error
    raise ex
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1621, in _fail_with_undefined_error
    return super()._fail_with_undefined_error(*args, **kwargs)
jinja2.exceptions.UndefinedError: list object has no element 5

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 513, in async_render_to_info
    render_info._result = self.async_render(variables, strict=strict, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 399, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: UndefinedError: list object has no element 5
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}")
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 397, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1604, in _render_with_context
    return template.render(**kwargs)
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 925, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/local/lib/python3.9/site-packages/jinja2/sandbox.py", line 326, in getattr
    value = getattr(obj, attribute)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1630, in _fail_with_undefined_error
    raise ex
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1621, in _fail_with_undefined_error
    return super()._fail_with_undefined_error(*args, **kwargs)
jinja2.exceptions.UndefinedError: list object has no element 6

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 513, in async_render_to_info
    render_info._result = self.async_render(variables, strict=strict, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 399, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: UndefinedError: list object has no element 6
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: list object has no element 1') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}")' for attribute 'step_1' in entity 'sensor.cooking'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: list object has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}")' for attribute 'step_2' in entity 'sensor.cooking'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: list object has no element 3') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}")' for attribute 'step_3' in entity 'sensor.cooking'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: list object has no element 4') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}")' for attribute 'step_4' in entity 'sensor.cooking'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: list object has no element 5') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}")' for attribute 'step_5' in entity 'sensor.cooking'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: list object has no element 6') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}")' for attribute 'step_6' in entity 'sensor.cooking'
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template("{%- for i in state_attr('sensor.grocy_stock', 'products') %} {%- if i.id == 93 %} {{ i.available_amount | round }} {%- endif %} {%- endfor %}")
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 397, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1604, in _render_with_context
    return template.render(**kwargs)
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 1304, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.9/site-packages/jinja2/environment.py", line 925, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
TypeError: 'NoneType' object is not iterable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 513, in async_render_to_info
    render_info._result = self.async_render(variables, strict=strict, **kwargs)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 399, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: TypeError: 'NoneType' object is not iterable
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('TypeError: 'NoneType' object is not iterable') while processing template 'Template("{%- for i in state_attr('sensor.grocy_stock', 'products') %} {%- if i.id == 93 %} {{ i.available_amount | round }} {%- endif %} {%- endfor %}")' for attribute '_attr_native_value' in entity 'sensor.kattenvoer'
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:20:56 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:21:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:21:06 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:21:09 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:21:11 WARNING (MainThread) [homeassistant.components.zha.core.channels.base] [0xE27B:1:0x0006]: async_initialize: all attempts have failed: [DeliveryError('[0xe27b:1:0x0006]: Message send failure'), DeliveryError('[0xe27b:1:0x0006]: Message send failure'), DeliveryError('[0xe27b:1:0x0006]: Message send failure'), DeliveryError('[0xe27b:1:0x0006]: Message send failure')]
2021-10-20 21:21:24 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:21:26 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:21:32 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:21:32 WARNING (SyncWorker_13) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:21:42 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:21:54 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:21:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:21:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:21:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:21:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:21:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:21:56 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:22:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:22:06 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:22:15 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:22:24 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:22:32 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:22:32 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:22:32 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: /config/scripts/get_recipies.py
2021-10-20 21:22:32 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:22:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:22:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:22:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:22:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:22:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:22:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:22:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:22:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:22:32 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: None has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}")' for attribute '_attr_native_value' in entity 'sensor.cooking'
2021-10-20 21:22:32 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: None has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}")' for attribute 'recipe_id' in entity 'sensor.cooking'
2021-10-20 21:22:48 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:22:54 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:23:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:23:21 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:23:24 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:23:26 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:23:32 ERROR (SyncWorker_3) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:23:32 WARNING (SyncWorker_3) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:23:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:23:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:23:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:23:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:23:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:23:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:23:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:23:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:23:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:23:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:23:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:23:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:23:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:23:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:23:54 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:23:54 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:24:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:24:24 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:24:27 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:24:32 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:24:32 WARNING (SyncWorker_9) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:24:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:24:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:24:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:24:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:24:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:24:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:24:47 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:24:54 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:25:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:25:00 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:25:24 ERROR (SyncWorker_8) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:25:32 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:25:32 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:25:33 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:25:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:25:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:25:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:25:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:25:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:25:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:25:54 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:26:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:26:06 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:26:07 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:26:24 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:26:32 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:26:32 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:26:39 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:26:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:26:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:26:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:26:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:26:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:26:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:26:54 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:27:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:27:12 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:27:24 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:27:27 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:27:32 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:27:32 WARNING (SyncWorker_7) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:27:32 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: /config/scripts/get_recipies.py
2021-10-20 21:27:32 WARNING (SyncWorker_9) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:27:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:27:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:27:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:27:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:27:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:27:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:27:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:27:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:27:32 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: None has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}")' for attribute '_attr_native_value' in entity 'sensor.cooking'
2021-10-20 21:27:32 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: None has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}")' for attribute 'recipe_id' in entity 'sensor.cooking'
2021-10-20 21:27:42 ERROR (MainThread) [custom_components.grocy] Error fetching grocy data: HTTPSConnectionPool(host='grocy.gladsheimr.nl', port=443): Max retries exceeded with url: /api/system/config (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:1129)')))
2021-10-20 21:27:54 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:28:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:28:15 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:28:24 ERROR (SyncWorker_11) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:28:32 ERROR (SyncWorker_8) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:28:32 WARNING (SyncWorker_8) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:28:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:28:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:28:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:28:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:28:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:28:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:28:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:28:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:28:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:28:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:28:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:28:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:28:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:28:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:28:47 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:28:48 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:28:54 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:29:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:29:21 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:29:24 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:29:32 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:29:32 WARNING (SyncWorker_5) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:29:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:29:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:29:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:29:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:29:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:29:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:29:54 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:29:54 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:30:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:30:07 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:30:24 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:30:27 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:30:32 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:30:32 WARNING (SyncWorker_7) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:30:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:30:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:30:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:30:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:30:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:30:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:30:54 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:31:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:31:00 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:31:24 ERROR (SyncWorker_8) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:31:27 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:31:32 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:31:32 WARNING (SyncWorker_0) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:31:33 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:31:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:31:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:31:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:31:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:31:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:31:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:31:54 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:32:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:32:06 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:32:24 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:32:32 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:32:32 WARNING (SyncWorker_10) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:32:32 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: /config/scripts/get_recipies.py
2021-10-20 21:32:32 WARNING (SyncWorker_10) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:32:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:32:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:32:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:32:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:32:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:32:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:32:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:32:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:32:32 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: None has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}")' for attribute '_attr_native_value' in entity 'sensor.cooking'
2021-10-20 21:32:32 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: None has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}")' for attribute 'recipe_id' in entity 'sensor.cooking'
2021-10-20 21:32:36 ERROR (MainThread) [custom_components.grocy] Error fetching grocy data: HTTPSConnectionPool(host='grocy.gladsheimr.nl', port=443): Max retries exceeded with url: /api/system/config (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:1129)')))
2021-10-20 21:32:47 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:32:54 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:33:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:33:09 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:33:24 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:33:32 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:33:32 WARNING (SyncWorker_1) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:33:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:33:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:33:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:33:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:33:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:33:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:33:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:33:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:33:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:33:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:33:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:33:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:33:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:33:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:33:42 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:33:54 ERROR (SyncWorker_8) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:34:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:34:07 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:34:15 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:34:24 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:34:32 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:34:32 WARNING (SyncWorker_6) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:34:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:34:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:34:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:34:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:34:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:34:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:34:48 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:34:54 ERROR (SyncWorker_8) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:35:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:35:21 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:35:24 ERROR (SyncWorker_3) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:35:27 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:35:32 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:35:32 WARNING (SyncWorker_9) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:35:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:35:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:35:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:35:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:35:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:35:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:35:54 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:35:54 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:36:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:36:24 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:36:27 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:36:32 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:36:32 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:36:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:36:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:36:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:36:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:36:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:36:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:36:47 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:36:54 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:37:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:37:00 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:37:24 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:37:32 ERROR (MainThread) [custom_components.grocy] Update of Meal_plan failed with HTTPSConnectionPool(host='grocy.gladsheimr.nl', port=443): Max retries exceeded with url: /api/objects/recipes/4 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:1129)')))
2021-10-20 21:37:32 ERROR (MainThread) [custom_components.grocy] Update of Shopping_list failed with HTTPSConnectionPool(host='grocy.gladsheimr.nl', port=443): Max retries exceeded with url: /api/system/db-changed-time (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:1129)')))
2021-10-20 21:37:32 ERROR (MainThread) [custom_components.grocy] Update of Stock failed with HTTPSConnectionPool(host='grocy.gladsheimr.nl', port=443): Max retries exceeded with url: /api/system/db-changed-time (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:1129)')))
2021-10-20 21:37:32 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:37:32 ERROR (SyncWorker_3) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:37:32 WARNING (SyncWorker_3) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:37:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:37:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:37:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:37:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:37:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:37:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:37:54 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:38:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:38:05 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:38:07 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:38:24 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:38:32 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:38:32 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:38:38 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:38:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:38:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:38:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:38:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:38:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:38:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:38:54 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:39:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:39:11 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:39:24 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:39:27 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:39:32 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:39:32 WARNING (SyncWorker_12) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:39:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:39:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:39:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:39:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:39:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:39:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:39:44 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:39:54 ERROR (SyncWorker_11) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:40:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:40:17 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:40:24 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:40:32 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:40:32 WARNING (SyncWorker_13) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:40:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:40:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:40:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:40:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:40:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:40:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:40:47 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:40:50 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:40:54 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:41:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:41:23 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:41:24 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:41:32 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:41:32 WARNING (SyncWorker_6) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:41:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:41:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:41:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:41:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:41:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:41:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:41:54 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:41:56 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:42:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:42:07 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:42:24 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:42:29 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:42:32 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:42:32 WARNING (SyncWorker_7) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:42:32 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: /config/scripts/get_recipies.py
2021-10-20 21:42:32 WARNING (SyncWorker_4) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:42:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:42:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:42:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:42:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:42:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:42:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:42:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:42:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:42:32 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: None has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}")' for attribute '_attr_native_value' in entity 'sensor.cooking'
2021-10-20 21:42:32 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: None has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}")' for attribute 'recipe_id' in entity 'sensor.cooking'
2021-10-20 21:42:54 ERROR (SyncWorker_3) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:42:59 ERROR (MainThread) [custom_components.grocy] Error fetching grocy data: HTTPSConnectionPool(host='grocy.gladsheimr.nl', port=443): Max retries exceeded with url: /api/system/config (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:1129)')))
2021-10-20 21:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:43:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:43:24 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:43:27 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:43:32 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:43:32 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:43:32 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:43:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:43:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:43:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:43:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:43:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:43:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:43:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:43:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:43:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:43:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:43:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:43:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:43:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:43:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:43:54 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:44:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:44:05 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:44:24 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:44:32 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:44:32 WARNING (SyncWorker_5) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:44:38 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:44:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:44:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:44:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:44:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:44:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:44:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:44:47 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:44:54 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:45:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:45:11 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:45:24 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:45:32 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:45:32 WARNING (SyncWorker_10) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:45:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:45:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:45:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:45:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:45:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:45:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:45:44 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:45:54 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:46:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:46:07 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:46:17 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:46:24 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:46:32 ERROR (SyncWorker_8) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:46:32 WARNING (SyncWorker_8) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:46:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:46:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:46:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:46:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:46:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:46:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:46:50 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:46:54 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:47:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:47:23 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:47:24 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:47:27 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:47:32 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:47:32 WARNING (SyncWorker_7) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:47:32 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: /config/scripts/get_recipies.py
2021-10-20 21:47:32 WARNING (SyncWorker_7) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:47:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:47:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:47:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:47:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:47:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:47:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:47:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:47:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:47:32 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: None has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}")' for attribute '_attr_native_value' in entity 'sensor.cooking'
2021-10-20 21:47:32 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: None has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}")' for attribute 'recipe_id' in entity 'sensor.cooking'
2021-10-20 21:47:53 ERROR (MainThread) [custom_components.grocy] Error fetching grocy data: HTTPSConnectionPool(host='grocy.gladsheimr.nl', port=443): Max retries exceeded with url: /api/system/config (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:1129)')))
2021-10-20 21:47:54 ERROR (SyncWorker_8) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:48:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:48:24 ERROR (SyncWorker_8) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:48:26 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:48:32 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:48:32 WARNING (SyncWorker_6) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:48:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:48:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:48:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:48:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:48:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:48:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:48:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:48:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:48:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:48:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:48:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:48:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:48:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:48:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:48:47 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:48:54 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:48:59 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:49:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:49:24 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:49:32 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:49:32 ERROR (SyncWorker_3) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:49:32 WARNING (SyncWorker_3) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:49:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:49:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:49:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:49:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:49:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:49:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:49:54 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:50:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:50:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:50:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:50:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:50:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:50:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:50:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:50:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:50:05 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:50:07 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:50:24 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:50:32 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:50:32 WARNING (SyncWorker_12) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:50:38 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:50:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:50:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:50:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:50:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:50:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:50:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:50:54 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:51:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:51:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:51:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:51:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:51:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:51:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:51:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:51:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:51:11 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:51:24 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:51:27 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:51:32 ERROR (SyncWorker_8) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:51:32 WARNING (SyncWorker_8) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:51:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:51:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:51:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:51:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:51:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:51:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:51:44 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:51:54 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:52:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:52:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:52:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:52:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:52:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:52:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:52:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:52:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:52:17 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:52:24 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:52:32 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:52:32 WARNING (SyncWorker_10) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:52:32 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: /config/scripts/get_recipies.py
2021-10-20 21:52:32 WARNING (SyncWorker_7) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:52:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:52:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:52:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:52:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:52:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:52:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:52:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:52:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:52:32 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: None has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}")' for attribute '_attr_native_value' in entity 'sensor.cooking'
2021-10-20 21:52:32 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: None has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}")' for attribute 'recipe_id' in entity 'sensor.cooking'
2021-10-20 21:52:47 ERROR (MainThread) [custom_components.grocy] Error fetching grocy data: HTTPSConnectionPool(host='grocy.gladsheimr.nl', port=443): Max retries exceeded with url: /api/system/config (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:1129)')))
2021-10-20 21:52:47 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:52:54 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:53:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:53:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:53:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:53:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:53:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:53:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:53:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:53:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:53:20 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:53:24 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:53:32 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:53:32 WARNING (SyncWorker_1) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:53:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:53:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:53:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:53:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:53:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:53:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:53:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:53:32 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:53:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:53:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:53:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:53:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:53:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:53:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:53:53 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:53:54 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:54:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:54:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:54:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:54:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:54:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:54:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:54:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:54:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:54:07 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:54:24 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:54:26 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:54:32 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:54:32 WARNING (SyncWorker_12) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:54:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:54:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:54:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:54:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:54:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:54:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:54:54 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:54:59 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:55:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:55:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:55:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:55:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:55:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:55:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:55:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:55:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:55:24 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:55:27 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:55:32 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:55:32 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:55:32 WARNING (SyncWorker_0) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:55:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:55:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:55:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:55:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:55:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:55:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:55:54 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:56:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:56:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:56:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:56:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:56:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:56:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:56:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:56:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:56:05 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:56:24 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:56:32 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:56:32 WARNING (SyncWorker_5) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:56:38 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:56:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 1 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:56:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:56:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 3 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:56:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 4 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:56:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 5 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:56:41 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: list object has no element 6 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:56:47 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:56:54 ERROR (SyncWorker_11) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:57:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:57:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:57:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:57:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:57:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:57:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:57:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:57:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:57:24 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:57:32 ERROR (SyncWorker_3) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:57:32 WARNING (SyncWorker_3) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:57:32 ERROR (MainThread) [custom_components.grocy] Update of Meal_plan failed with HTTPSConnectionPool(host='grocy.gladsheimr.nl', port=443): Max retries exceeded with url: /api/objects/recipes/6 (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:1129)')))
2021-10-20 21:57:34 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: /config/scripts/get_recipies.py
2021-10-20 21:57:34 WARNING (SyncWorker_9) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:57:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:57:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:57:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:57:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:57:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:57:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:57:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:57:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:57:34 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: None has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}")' for attribute '_attr_native_value' in entity 'sensor.cooking'
2021-10-20 21:57:34 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: None has no element 2') while processing template 'Template("{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}")' for attribute 'recipe_id' in entity 'sensor.cooking'
2021-10-20 21:57:38 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:57:54 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:58:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:58:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:58:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:58:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:58:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:58:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:58:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:58:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:58:07 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:58:24 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:58:25 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:58:32 ERROR (SyncWorker_5) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:58:32 WARNING (SyncWorker_5) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:58:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:58:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:58:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:58:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:58:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:58:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:58:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:58:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:58:42 WARNING (MainThread) [homeassistant.helpers.entity] Update of sensor.recipies is taking over 10 seconds
2021-10-20 21:58:47 ERROR (SyncWorker_10) [homeassistant.components.command_line] Timeout for command: /config/scripts/get_recipies.py
2021-10-20 21:58:47 WARNING (SyncWorker_10) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:58:54 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:59:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:59:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:59:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:59:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:59:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:59:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:59:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:59:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 21:59:12 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 21:59:24 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 21:59:27 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 21:59:32 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 21:59:32 WARNING (SyncWorker_12) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:59:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 21:59:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 21:59:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:59:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:59:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:59:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:59:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:59:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 21:59:42 WARNING (MainThread) [homeassistant.helpers.entity] Update of sensor.recipies is taking over 10 seconds
2021-10-20 21:59:47 ERROR (SyncWorker_5) [homeassistant.components.command_line] Timeout for command: /config/scripts/get_recipies.py
2021-10-20 21:59:47 WARNING (SyncWorker_5) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 21:59:54 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:00:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:00:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:00:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:00:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:00:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:00:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:00:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:00:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:00:00 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:00:24 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:00:32 ERROR (SyncWorker_4) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 22:00:32 WARNING (SyncWorker_4) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:00:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:00:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:00:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:00:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:00:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:00:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:00:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:00:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:00:42 WARNING (MainThread) [homeassistant.helpers.entity] Update of sensor.recipies is taking over 10 seconds
2021-10-20 22:00:47 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 22:00:47 ERROR (SyncWorker_3) [homeassistant.components.command_line] Timeout for command: /config/scripts/get_recipies.py
2021-10-20 22:00:47 WARNING (SyncWorker_3) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:00:47 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:00:54 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:01:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:01:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:01:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:01:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:01:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:01:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:01:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:01:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:01:24 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:01:32 ERROR (SyncWorker_11) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 22:01:32 WARNING (SyncWorker_11) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:01:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:01:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:01:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:01:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:01:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:01:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:01:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:01:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:01:35 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:01:42 WARNING (MainThread) [homeassistant.helpers.entity] Update of sensor.recipies is taking over 10 seconds
2021-10-20 22:01:47 ERROR (SyncWorker_1) [homeassistant.components.command_line] Timeout for command: /config/scripts/get_recipies.py
2021-10-20 22:01:47 WARNING (SyncWorker_1) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:01:54 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:02:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:02:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:02:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:02:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:02:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:02:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:02:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:02:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:02:07 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 22:02:23 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:02:24 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:02:32 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 22:02:32 WARNING (SyncWorker_12) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:02:33 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: /config/scripts/get_recipies.py
2021-10-20 22:02:33 WARNING (SyncWorker_1) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:02:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:02:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:02:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:02:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:02:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:02:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:02:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:02:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:02:53 ERROR (MainThread) [custom_components.grocy] Error fetching grocy data: HTTPSConnectionPool(host='grocy.gladsheimr.nl', port=443): Max retries exceeded with url: /api/system/config (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:1129)')))
2021-10-20 22:02:54 ERROR (SyncWorker_7) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:03:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:03:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:03:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:03:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:03:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:03:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:03:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:03:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:03:24 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:03:27 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 22:03:32 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 22:03:32 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:03:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:03:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:03:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:03:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:03:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:03:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:03:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:03:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:03:41 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:03:42 WARNING (MainThread) [homeassistant.helpers.entity] Update of sensor.recipies is taking over 10 seconds
2021-10-20 22:03:47 ERROR (SyncWorker_13) [homeassistant.components.command_line] Timeout for command: /config/scripts/get_recipies.py
2021-10-20 22:03:47 WARNING (SyncWorker_13) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:03:54 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:04:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:04:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:04:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:04:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:04:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:04:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:04:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:04:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:04:24 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:04:28 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:04:32 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 22:04:32 WARNING (SyncWorker_12) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:04:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:04:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:04:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:04:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:04:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:04:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:04:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:04:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:04:42 WARNING (MainThread) [homeassistant.helpers.entity] Update of sensor.recipies is taking over 10 seconds
2021-10-20 22:04:47 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 22:04:47 ERROR (SyncWorker_7) [homeassistant.components.command_line] Timeout for command: /config/scripts/get_recipies.py
2021-10-20 22:04:47 WARNING (SyncWorker_7) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:04:54 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:05:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:05:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:05:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:05:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:05:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:05:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:05:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:05:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:05:15 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:05:24 ERROR (SyncWorker_3) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:05:32 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 22:05:32 WARNING (SyncWorker_9) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:05:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:05:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:05:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:05:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:05:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:05:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:05:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:05:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:05:42 WARNING (MainThread) [homeassistant.helpers.entity] Update of sensor.recipies is taking over 10 seconds
2021-10-20 22:05:47 ERROR (SyncWorker_4) [homeassistant.components.command_line] Timeout for command: /config/scripts/get_recipies.py
2021-10-20 22:05:47 WARNING (SyncWorker_4) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:05:54 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:06:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:06:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:06:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:06:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:06:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:06:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:06:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:06:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:06:05 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:06:07 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 22:06:24 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:06:32 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 22:06:32 WARNING (SyncWorker_9) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:06:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:06:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:06:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:06:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:06:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:06:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:06:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:06:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:06:42 WARNING (MainThread) [homeassistant.helpers.entity] Update of sensor.recipies is taking over 10 seconds
2021-10-20 22:06:47 ERROR (SyncWorker_7) [homeassistant.components.command_line] Timeout for command: /config/scripts/get_recipies.py
2021-10-20 22:06:47 WARNING (SyncWorker_7) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:06:53 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:06:54 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:07:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:07:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:07:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:07:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:07:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:07:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:07:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:07:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:07:24 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:07:27 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 22:07:32 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 22:07:32 WARNING (SyncWorker_0) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:07:32 ERROR (MainThread) [custom_components.grocy] Update of Overdue_tasks failed with HTTPSConnectionPool(host='grocy.gladsheimr.nl', port=443): Max retries exceeded with url: /api/system/db-changed-time (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:1129)')))
2021-10-20 22:07:33 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: /config/scripts/get_recipies.py
2021-10-20 22:07:33 WARNING (SyncWorker_9) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:07:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:07:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:07:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:07:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:07:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:07:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:07:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:07:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:07:43 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:07:54 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:08:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:08:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:08:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:08:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:08:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:08:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:08:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:08:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:08:24 ERROR (SyncWorker_13) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:08:30 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:08:32 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 22:08:32 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:08:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:08:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:08:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:08:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:08:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:08:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:08:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:08:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:08:42 WARNING (MainThread) [homeassistant.helpers.entity] Update of sensor.recipies is taking over 10 seconds
2021-10-20 22:08:47 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 22:08:47 ERROR (SyncWorker_2) [homeassistant.components.command_line] Timeout for command: /config/scripts/get_recipies.py
2021-10-20 22:08:47 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:08:54 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:09:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:09:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:09:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:09:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:09:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:09:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:09:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:09:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:09:17 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:09:24 ERROR (SyncWorker_11) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:09:32 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 22:09:32 WARNING (SyncWorker_12) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:09:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:09:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:09:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:09:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:09:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:09:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:09:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:09:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:09:42 WARNING (MainThread) [homeassistant.helpers.entity] Update of sensor.recipies is taking over 10 seconds
2021-10-20 22:09:47 ERROR (SyncWorker_10) [homeassistant.components.command_line] Timeout for command: /config/scripts/get_recipies.py
2021-10-20 22:09:47 WARNING (SyncWorker_10) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:09:54 ERROR (SyncWorker_1) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:10:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:10:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:10:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:10:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:10:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:10:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:10:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:10:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:10:05 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:10:07 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [Connection reset by peer]
2021-10-20 22:10:24 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:10:32 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 22:10:32 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:10:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:10:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:10:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:10:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:10:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:10:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:10:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:10:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:10:42 WARNING (MainThread) [homeassistant.helpers.entity] Update of sensor.recipies is taking over 10 seconds
2021-10-20 22:10:47 ERROR (SyncWorker_2) [homeassistant.components.command_line] Timeout for command: /config/scripts/get_recipies.py
2021-10-20 22:10:47 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:10:54 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:10:55 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:11:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:11:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:11:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:11:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:11:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:11:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:11:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:11:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:11:24 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:11:27 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 22:11:32 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 22:11:32 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:11:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:11:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:11:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:11:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:11:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:11:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:11:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:11:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:11:42 WARNING (MainThread) [homeassistant.helpers.entity] Update of sensor.recipies is taking over 10 seconds
2021-10-20 22:11:42 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:11:47 ERROR (SyncWorker_2) [homeassistant.components.command_line] Timeout for command: /config/scripts/get_recipies.py
2021-10-20 22:11:47 WARNING (SyncWorker_2) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:11:54 ERROR (SyncWorker_9) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:12:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:12:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:12:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:12:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:12:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:12:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:12:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:12:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:12:24 ERROR (SyncWorker_2) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:12:30 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:12:32 ERROR (SyncWorker_3) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 22:12:32 WARNING (SyncWorker_3) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:12:33 ERROR (SyncWorker_12) [homeassistant.components.command_line] Command failed: /config/scripts/get_recipies.py
2021-10-20 22:12:33 WARNING (SyncWorker_12) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:12:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:12:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:12:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:12:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:12:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:12:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:12:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:12:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:12:47 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 22:12:54 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:13:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:13:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:13:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:13:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:13:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:13:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:13:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:13:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:13:00 ERROR (MainThread) [custom_components.grocy] Error fetching grocy data: HTTPSConnectionPool(host='grocy.gladsheimr.nl', port=443): Max retries exceeded with url: /api/system/config (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate (_ssl.c:1129)')))
2021-10-20 22:13:24 ERROR (SyncWorker_6) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:13:32 ERROR (SyncWorker_10) [homeassistant.components.command_line] Command failed: /config/scripts/get_shopping_list.py
2021-10-20 22:13:32 WARNING (SyncWorker_10) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:13:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:13:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:13:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:13:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:13:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:13:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:13:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:13:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:13:42 WARNING (MainThread) [homeassistant.helpers.entity] Update of sensor.recipies is taking over 10 seconds
2021-10-20 22:13:47 ERROR (SyncWorker_10) [homeassistant.components.command_line] Timeout for command: /config/scripts/get_recipies.py
2021-10-20 22:13:47 WARNING (SyncWorker_10) [homeassistant.components.command_line.sensor] Empty reply found when expecting JSON data
2021-10-20 22:13:47 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 134, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 265, in _async_refresh
    update_callback()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 456, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 496, in _async_write_ha_state
    extra_state_attributes = self.device_state_attributes
  File "/config/custom_components/grocy/entity.py", line 142, in device_state_attributes
    return json.loads(json.dumps(data, cls=GrocyJSONEncoder))
  File "/usr/local/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/usr/local/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/local/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/config/custom_components/grocy/json_encode.py", line 26, in default
    return json.JSONEncoder.default(self, o)
  File "/usr/local/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type ProductBarcodeData is not JSON serializable
2021-10-20 22:13:54 ERROR (SyncWorker_0) [homeassistant.components.command_line] Command failed: ssh osmc@baldr 'echo "pow 0" | /usr/osmc/bin/cec-client -s -d 1 | grep "power status:"'
2021-10-20 22:14:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:14:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:14:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:14:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:14:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:14:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:14:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:14:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:14:07 ERROR (MainThread) [homeassistant.components.unifi] Error connecting to the UniFi controller at bragi: Error requesting data from bragi: Cannot connect to host bragi:8343 ssl:default [None]
2021-10-20 22:14:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:14:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:14:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:14:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:14:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:14:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:14:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:14:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:15:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:15:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:15:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (30*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time') | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:15:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.firstcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:15:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_local' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_local' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:15:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:15:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'timestamp_custom' got invalid input 'None' when rendering template '{{ (now().strftime("%s")| int + (5*60)) | timestamp_custom("%H:%M") == as_timestamp(state_attr('calendar.feyenoord', 'start_time')  | timestamp_local) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'timestamp_custom' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:15:00 WARNING (MainThread) [homeassistant.helpers.template] Template warning: 'as_timestamp' got invalid input 'None' when rendering template '{{ as_timestamp(now()) | timestamp_custom("%H:%M") == (as_timestamp(state_attr('calendar.werkrooster', 'start_time')) |int - (state_attr('input_datetime.lastcall','timestamp'))) | timestamp_custom("%H:%M") }}' but no default was specified. Currently 'as_timestamp' will return 'None', however this template will fail to render in Home Assistant core 2021.12
2021-10-20 22:15:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}'
2021-10-20 22:15:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].id}}'
2021-10-20 22:15:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:15:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:15:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:15:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:15:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:15:34 ERROR (MainThread) [homeassistant.helpers.template] Template variable error: None has no element 2 when rendering '{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('<br />')[0]|replace('</li>','')}}'
2021-10-20 22:15:56 WARNING (MainThread) [homeassistant.core] Timed out waiting for shutdown stage 1 to complete, the shutdown will continue
