platform: template
sensors:
  cooking:
    friendly_name: Cooking
    value_template: >-
      {% if input_number.recipe_id')|round != -1 %}
      {{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].name }}
      {% else %}
      "Geen recept geselecteerd"
      {%%}
    attribute_templates:
  # unit_of_measurement: "Days"
  # attributes:
      # {%- set id = 0 %}
      # {{ state_attr('sensor.recipies', 'recepten')[id].name}}
      # {%- if '<li>' in state_attr('sensor.recipies', 'recepten')[id].description %}
      # {%- for i in state_attr('sensor.recipies', 'recepten')[id].description.split('<ol>')[1].split('<li>')%}
      # {%- if not loop.first %}
      # step_{{ loop.index-1 }}: {{ i.split('</li>')[0].split('<br />')[0] }}
      # {%- endif %}
      # {% endfor %}
      # {%- endif %}
      step_1: "{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[1].split('</li>')[0].split('<br />')}}"
      step_2: "{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[2].split('</li>')[0].split('<br />')}}"
      step_3: "{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[3].split('</li>')[0].split('<br />')}}"
      step_4: "{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[4].split('</li>')[0].split('<br />')}}"
      step_5: "{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[5].split('</li>')[0].split('<br />')}}"
      step_6: "{{ state_attr('sensor.recipies', 'recepten')[states('input_number.recipe_id')|round].description.split('<li>')[6].split('</li>')[0].split('<br />')}}"